---
layout: post
title: "C++ Primer 读书笔记 1"
date: 2013-01-05 15:50
comments: true
categories: [c++, notes]
---
最近在看一些源代码，立刻发现自己的C++功底相当的弱，于是决定静心开始读经典的《C++ Primer》中文版，开头似乎是入门的知识，所以决定做些笔记，偶尔加些自己的验证。这样以后直接翻笔记就行了。笔记很零碎，感觉很适合C++考试的选择题……汗。

书籍信息：C++ Primer 中文版（第4版）Stanley B. Lippman, Josee Lajoie, Barbara E. Moo 著；李师贤等译；人民邮电出版社

以下为第一章笔记。
<!--more-->
##第一章
###1.1
- 返回值必须和函数的返回类型相同，或者可以转换成函数的返回类型  
【需要返回double时可以return int，反之不行】

- 常见C++程序文件后缀： \*.cc \*.cxx \*.cpp \*.cp \*.C

###1.2
- iostream库的基础是两种命名为istream和ostream的类型，分别表示输入流和输出流。标准库定义了4个IO对象，处理输入时使用命名为cin的istream类型对象，也称为标准输入。处理输出时使用命名为cout的ostream类型对象，也称为标准输出。另外，cerr和clog都是ostream对象。  
【都忘了原来istream是类啊】

- 输出操作符<<：接受两个操作数，左操作数必须是ostream对象，右操作数是要输出的值，返回输出流本身（即左操作数）。输入操作符类推。

- endl称为操纵符（manipulator），换行，刷新与设备相关联的缓冲区，用户立即看到写入到流中的输出。忘记刷新输出流可能会造成输出停留在缓冲区中，如果程序崩溃，将会导致对程序崩溃位置的错误推断。

- 使用命名空间，可以避免由于无意中使用了与库中所定义名字相同的名字而引起冲突。从而我们可以使用与标准库相同的名字。

- 空格符不允许出现在预处理指示中  
【  
预处理是指在编译前所作的工作。例如\#include, \#define等  
带参宏定义中，宏名和形参表之间不能有空格出现  
例如`#define MAX(a,b) (a>b)?a:b`不能写成`#define MAX (a,b) (a>b)?a:b`  
】

###1.3
- 注释对不可嵌套。临时忽略一段代码更好的方法，是用编辑器在要忽略的每一行代码前面插入单行注释//，这样就无需担心是否已包含注释对/\*\*/

###1.4
- for(int val = 1; val <= 10; ++ val)执行顺序：
	1. 创建val并初始化为1
	2. 测试val是否<= 10  
	【  
	第一次进入时就要测试！！  
	`for(int val = 11; val <= 10; ++ val) cout<<val<<endl;`  
	不会有输出  
	】
	3. 如果是，则执行for循环体；如果不是，则退出循环
	4. Val递增
	5. 重复第2步的测试

- 读入未知数目的输入  
`while(cin >> value) sum += value;`  
测试cin，即测试流的状态。如果流有效，测试成功。遇到文件结束符或无效输入【如类型和value不符合】，条件失败。  
【

```c
int main()
{
	int value;
	while(cin >> value) 
		cout<<value<<endl;
	return 0;
}
```

在输入`1 2 3 回车`后会显示

```
1 2 3
1
2
3
```

可以继续输入。  
在输入`1 2 3 ^Z 回车`或`1 2 3 str 回车`后会显示
	
```
1 2 3 str
1
2
3
请按任意键继续. . .
```

不可以继续输入。  
回车的作用：windows是行缓冲，只有按下回车后，系统才会将输入的这一行数据存放到程序的输入缓存中。  
】

- 文件结束符，windows下ctrl+z，unix下ctrl+d

###1.5
- 标准库的头文件用<>， 非标准库的文件用””

